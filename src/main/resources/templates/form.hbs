{{#partial "content"}}

    {{#if editTask}}
        <form action="/tasks/update" method="post">
            <h1>Edit this Task!</h1>
            <select id="taskToEditId" name="taskToEditId">
                {{#each tasks }}
                    <option value="{{id}}">{{description}}</option>
                {{/each}}
            </select>
            <br>
            <label for="description">Edit this task's description</label>
            <input id="description" name="description" type="text" placeholder="Enter a new description">
            <br>
            <label for="categoryId">Update this task's category:</label>
            <select id="categoryId" name="categoryId">
                {{#each categories}}
                    <option value="{{id}}">{{name}}</option>
                {{/each}}
            </select>
            <p>Don't see the right category?<a href="/categories/new">Add a new one first.</a></p>

    {{else}}
            <h1>Add a new Task!</h1>

        <form action="/tasks/new" method="post">
        {{#if categories}} <!-- getCategories -->
            <label for="description">Task Description</label>
            <input id="description" name="description" type="text">
            <label for="categoryId">Categorize this task as:</label>

            <select id="categoryId" name="categoryId">

                {{#each categories}}
                    <option value="{{id}}">{{name}}</option>
                {{/each}}
            </select>
            <p>Don't see the right category?<a href="/categories/new">Add a new one first.</a></p>
        {{else}}
                <h3> You'll need to add a category before you add a task. <a href="/categories/new">Add one here.</a></h3>

        {{/if}}

    {{/if}}
        <button type="submit" class="btn btn-default">Go!</button>
    </form>
{{/partial}}

{{> layout.hbs}}